{"version":3,"sources":["../../../../node_modules/%40radix-ui/react-dialog/dist/index.mjs","../../../../components/ui/dialog.tsx","../../../../app/trainings/page.tsx"],"sourcesContent":["\"use client\";\n\n// packages/react/dialog/src/Dialog.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContext, createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { hideOthers } from \"aria-hidden\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar DIALOG_NAME = \"Dialog\";\nvar [createDialogContext, createDialogScope] = createContextScope(DIALOG_NAME);\nvar [DialogProvider, useDialogContext] = createDialogContext(DIALOG_NAME);\nvar Dialog = (props) => {\n  const {\n    __scopeDialog,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const triggerRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange\n  });\n  return /* @__PURE__ */ jsx(\n    DialogProvider,\n    {\n      scope: __scopeDialog,\n      triggerRef,\n      contentRef,\n      contentId: useId(),\n      titleId: useId(),\n      descriptionId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children\n    }\n  );\n};\nDialog.displayName = DIALOG_NAME;\nvar TRIGGER_NAME = \"DialogTrigger\";\nvar DialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...triggerProps } = props;\n    const context = useDialogContext(TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n  }\n);\nDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DialogPortal\";\nvar [PortalProvider, usePortalContext] = createDialogContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar DialogPortal = (props) => {\n  const { __scopeDialog, forceMount, children, container } = props;\n  const context = useDialogContext(PORTAL_NAME, __scopeDialog);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeDialog, forceMount, children: React.Children.map(children, (child) => /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children: child }) })) });\n};\nDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"DialogOverlay\";\nvar DialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(DialogOverlayImpl, { ...overlayProps, ref: forwardedRef }) }) : null;\n  }\n);\nDialogOverlay.displayName = OVERLAY_NAME;\nvar DialogOverlayImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, __scopeDialog);\n    return (\n      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n      // ie. when `Overlay` and `Content` are siblings\n      /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, shards: [context.contentRef], children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-state\": getState(context.open),\n          ...overlayProps,\n          ref: forwardedRef,\n          style: { pointerEvents: \"auto\", ...overlayProps.style }\n        }\n      ) })\n    );\n  }\n);\nvar CONTENT_NAME = \"DialogContent\";\nvar DialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(DialogContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(DialogContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nDialogContent.displayName = CONTENT_NAME;\nvar DialogContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, context.contentRef, contentRef);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(props.onPointerDownOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (isRightClick) event.preventDefault();\n        }),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault()\n        )\n      }\n    );\n  }\n);\nvar DialogContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar DialogContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, trapFocus, onOpenAutoFocus, onCloseAutoFocus, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, __scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    useFocusGuards();\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        FocusScope,\n        {\n          asChild: true,\n          loop: true,\n          trapped: trapFocus,\n          onMountAutoFocus: onOpenAutoFocus,\n          onUnmountAutoFocus: onCloseAutoFocus,\n          children: /* @__PURE__ */ jsx(\n            DismissableLayer,\n            {\n              role: \"dialog\",\n              id: context.contentId,\n              \"aria-describedby\": context.descriptionId,\n              \"aria-labelledby\": context.titleId,\n              \"data-state\": getState(context.open),\n              ...contentProps,\n              ref: composedRefs,\n              onDismiss: () => context.onOpenChange(false)\n            }\n          )\n        }\n      ),\n      /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(TitleWarning, { titleId: context.titleId }),\n        /* @__PURE__ */ jsx(DescriptionWarning, { contentRef, descriptionId: context.descriptionId })\n      ] })\n    ] });\n  }\n);\nvar TITLE_NAME = \"DialogTitle\";\nvar DialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...titleProps } = props;\n    const context = useDialogContext(TITLE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.h2, { id: context.titleId, ...titleProps, ref: forwardedRef });\n  }\n);\nDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"DialogDescription\";\nvar DialogDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...descriptionProps } = props;\n    const context = useDialogContext(DESCRIPTION_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.p, { id: context.descriptionId, ...descriptionProps, ref: forwardedRef });\n  }\n);\nDialogDescription.displayName = DESCRIPTION_NAME;\nvar CLOSE_NAME = \"DialogClose\";\nvar DialogClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...closeProps } = props;\n    const context = useDialogContext(CLOSE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nDialogClose.displayName = CLOSE_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar TITLE_WARNING_NAME = \"DialogTitleWarning\";\nvar [WarningProvider, useWarningContext] = createContext(TITLE_WARNING_NAME, {\n  contentName: CONTENT_NAME,\n  titleName: TITLE_NAME,\n  docsSlug: \"dialog\"\n});\nvar TitleWarning = ({ titleId }) => {\n  const titleWarningContext = useWarningContext(TITLE_WARNING_NAME);\n  const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n  React.useEffect(() => {\n    if (titleId) {\n      const hasTitle = document.getElementById(titleId);\n      if (!hasTitle) console.error(MESSAGE);\n    }\n  }, [MESSAGE, titleId]);\n  return null;\n};\nvar DESCRIPTION_WARNING_NAME = \"DialogDescriptionWarning\";\nvar DescriptionWarning = ({ contentRef, descriptionId }) => {\n  const descriptionWarningContext = useWarningContext(DESCRIPTION_WARNING_NAME);\n  const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n  React.useEffect(() => {\n    const describedById = contentRef.current?.getAttribute(\"aria-describedby\");\n    if (descriptionId && describedById) {\n      const hasDescription = document.getElementById(descriptionId);\n      if (!hasDescription) console.warn(MESSAGE);\n    }\n  }, [MESSAGE, contentRef, descriptionId]);\n  return null;\n};\nvar Root = Dialog;\nvar Trigger = DialogTrigger;\nvar Portal = DialogPortal;\nvar Overlay = DialogOverlay;\nvar Content = DialogContent;\nvar Title = DialogTitle;\nvar Description = DialogDescription;\nvar Close = DialogClose;\nexport {\n  Close,\n  Content,\n  Description,\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n  Overlay,\n  Portal,\n  Root,\n  Title,\n  Trigger,\n  WarningProvider,\n  createDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { auth } from \"@/lib/firebase\";\r\nimport { Plus, Play, Loader2 } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface TrainingListItem {\r\n  name: string;\r\n  word_count?: number;\r\n  last_modified?: number;\r\n  error?: string;\r\n}\r\n\r\ninterface Training {\r\n  name: string;\r\n  fileIndexes: number[];\r\n  createdAt: string;\r\n  numUniqueWords?: number;\r\n  totalItems?: number;\r\n  wordCount?: number;\r\n  lastModified?: number;\r\n}\r\n\r\nconst BACKEND_URL =\r\n  process.env.NEXT_PUBLIC_BACKEND_URL ||\r\n  \"https://word-psicho-server.onrender.com\";\r\n\r\nexport default function TrainingsPage() {\r\n  const [trainings, setTrainings] = useState<Training[]>([]);\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [isLoading, setIsLoading] = useState<string | null>(null);\r\n  const [trainingName, setTrainingName] = useState(\"\");\r\n  const [selectedFileIndexes, setSelectedFileIndexes] = useState<number[]>([]);\r\n  const { toast } = useToast();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    loadExistingTrainings();\r\n  }, []);\r\n\r\n  const loadExistingTrainings = async () => {\r\n    try {\r\n      console.log(\"[v0] Fetching trainings from proxy API\");\r\n\r\n      const userUid = auth?.currentUser?.uid;\r\n      if (!userUid) {\r\n        console.error(\"[v0] Cannot load trainings: no authenticated user\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\r\n        `/api/proxy/list_trainings?user_uid=${encodeURIComponent(userUid)}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(\"[v0] Response status:\", response.status);\r\n      const data = await response.json();\r\n      console.log(\"[v0] Response data:\", data);\r\n\r\n      if (!response.ok) {\r\n        console.error(\"Failed to load trainings:\", data.error);\r\n        return;\r\n      }\r\n\r\n      if (data.trainings && data.trainings.length > 0) {\r\n        const formattedTrainings: Training[] = data.trainings.map(\r\n          (t: TrainingListItem) => ({\r\n            name: t.name,\r\n            fileIndexes: [],\r\n            createdAt: t.last_modified\r\n              ? new Date(t.last_modified * 1000).toISOString()\r\n              : new Date().toISOString(),\r\n            wordCount: t.word_count,\r\n            lastModified: t.last_modified,\r\n          })\r\n        );\r\n        setTrainings(formattedTrainings);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading trainings:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCreateTraining = async () => {\r\n    if (!trainingName.trim()) {\r\n      toast({\r\n        title: \"שגיאה\",\r\n        description: \"נא להזין שם לאימון\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (selectedFileIndexes.length === 0) {\r\n      toast({\r\n        title: \"שגיאה\",\r\n        description: \"נא לבחור לפחות יחידה אחת\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsCreating(true);\r\n\r\n    try {\r\n      const userUid = auth?.currentUser?.uid;\r\n      if (!userUid) {\r\n        throw new Error(\"לא זוהה משתמש מחובר. נא להתחבר ולנסות שוב.\");\r\n      }\r\n\r\n      const response = await fetch(\"/api/proxy/create_training\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          user_uid: userUid,\r\n          training_name: trainingName,\r\n          file_indexes: selectedFileIndexes,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok)\r\n        throw new Error(data.error || \"Failed to create training\");\r\n\r\n      const newTraining: Training = {\r\n        name: trainingName,\r\n        fileIndexes: selectedFileIndexes,\r\n        createdAt: new Date().toISOString(),\r\n        numUniqueWords: data.num_unique_words,\r\n        totalItems: data.total_items_in_sequence,\r\n        wordCount: data.word_count,\r\n        lastModified: data.last_modified,\r\n      };\r\n\r\n      setTrainings([newTraining, ...trainings]);\r\n      setIsDialogOpen(false);\r\n      setTrainingName(\"\");\r\n      setSelectedFileIndexes([]);\r\n\r\n      toast({\r\n        title: \"✓ האימון נוצר בהצלחה\",\r\n        description: `${data.num_unique_words} מילים ייחודיות, ${data.total_items_in_sequence} פריטים לתרגול`,\r\n        className: \"bg-success text-success-foreground\",\r\n      });\r\n\r\n      setTimeout(() => {\r\n        if (confirm(\"האימון נוצר בהצלחה! האם ברצונך להתחיל עכשיו?\")) {\r\n          handleLoadTraining(trainingName);\r\n        } else {\r\n          loadExistingTrainings();\r\n        }\r\n      }, 500);\r\n    } catch (error) {\r\n      toast({\r\n        title: \"שגיאה ביצירת אימון\",\r\n        description:\r\n          error instanceof Error ? error.message : \"לא ניתן ליצור אימון כרגע\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleLoadTraining = async (trainingName: string) => {\r\n    setIsLoading(trainingName);\r\n\r\n    try {\r\n      const userUid = auth?.currentUser?.uid;\r\n      if (!userUid) {\r\n        throw new Error(\"לא זוהה משתמש מחובר. נא להתחבר ולנסות שוב.\");\r\n      }\r\n\r\n      const response = await fetch(`${BACKEND_URL}/load_training`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          user_uid: userUid,\r\n          training_name: trainingName,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok)\r\n        throw new Error(data.error || \"Failed to load training\");\r\n\r\n      localStorage.setItem(\"currentTrainingName\", trainingName);\r\n\r\n      toast({\r\n        title: \"✓ האימון נטען בהצלחה\",\r\n        description: \"מתחיל את האימון...\",\r\n        className: \"bg-success text-success-foreground\",\r\n      });\r\n\r\n      setTimeout(() => {\r\n        router.push(\"/training\");\r\n      }, 500);\r\n    } catch (error) {\r\n      toast({\r\n        title: \"שגיאה בטעינת אימון\",\r\n        description:\r\n          error instanceof Error ? error.message : \"לא ניתן לטעון את האימון\",\r\n        variant: \"destructive\",\r\n      });\r\n      setIsLoading(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-background to-secondary p-4 md:p-8\">\r\n      <div className=\"max-w-4xl mx-auto space-y-6 animate-fade-in\">\r\n        {/* Header */}\r\n        <div className=\"text-center space-y-2 py-6\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-foreground\">\r\n            האימונים שלי\r\n          </h1>\r\n          <p className=\"text-muted-foreground\">\r\n            צור אימון חדש או המשך אימון קיים\r\n          </p>\r\n        </div>\r\n\r\n        <Button\r\n          onClick={() => router.push(\"/\")}\r\n          variant=\"outline\"\r\n          className=\"h-12 px-6 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-transform\"\r\n        >\r\n          ← חזרה למסך הראשי\r\n        </Button>\r\n\r\n        {/* Create New Training Button */}\r\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button\r\n              size=\"lg\"\r\n              className=\"w-full h-16 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] bg-primary text-primary-foreground\"\r\n            >\r\n              <Plus className=\"ml-2 h-6 w-6\" />\r\n              יצירת אימון חדש\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"sm:max-w-md animate-scale-in\" dir=\"rtl\">\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-2xl text-center\">\r\n                אימון חדש\r\n              </DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-6 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\" className=\"text-base\">\r\n                  שם האימון\r\n                </Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  placeholder=\"למשל: מילים באנגלית - רמה 1\"\r\n                  value={trainingName}\r\n                  onChange={(e) => setTrainingName(e.target.value)}\r\n                  className=\"h-12 text-base rounded-lg\"\r\n                  dir=\"rtl\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-base\">בחירת יחידות מקור (1-10)</Label>\r\n                <div className=\"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto\">\r\n                  {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((num) => (\r\n                    <label\r\n                      key={num}\r\n                      className=\"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-secondary transition-colors\"\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedFileIndexes.includes(num)}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setSelectedFileIndexes([\r\n                              ...selectedFileIndexes,\r\n                              num,\r\n                            ]);\r\n                          } else {\r\n                            setSelectedFileIndexes(\r\n                              selectedFileIndexes.filter((f) => f !== num)\r\n                            );\r\n                          }\r\n                        }}\r\n                        className=\"w-4 h-4\"\r\n                      />\r\n                      <span className=\"text-sm\">יחידה {num}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <Button\r\n                onClick={handleCreateTraining}\r\n                disabled={isCreating}\r\n                className=\"w-full h-12 text-base rounded-lg hover:scale-[1.02] active:scale-[0.98] transition-transform\"\r\n              >\r\n                {isCreating ? (\r\n                  <>\r\n                    <Loader2 className=\"ml-2 h-5 w-5 animate-spin\" />\r\n                    יוצר אימון...\r\n                  </>\r\n                ) : (\r\n                  \"צור אימון\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Previous Trainings */}\r\n        {trainings.length > 0 && (\r\n          <div className=\"space-y-4\">\r\n            <h2 className=\"text-xl font-semibold text-foreground\">\r\n              אימונים קודמים\r\n            </h2>\r\n            <div className=\"grid gap-4\">\r\n              {trainings.map((training) => (\r\n                <Card\r\n                  key={training.name}\r\n                  className=\"overflow-hidden hover:shadow-lg transition-shadow\"\r\n                >\r\n                  <CardContent className=\"p-6\">\r\n                    <div className=\"flex items-center justify-between gap-4\">\r\n                      <div className=\"flex-1 space-y-1\">\r\n                        <h3 className=\"font-semibold text-lg text-foreground\">\r\n                          {training.name}\r\n                        </h3>\r\n                        <p className=\"text-sm text-muted-foreground\">\r\n                          {training.wordCount && `${training.wordCount} מילים`}\r\n                          {training.lastModified &&\r\n                            ` • ${new Date(\r\n                              training.lastModified * 1000\r\n                            ).toLocaleDateString(\"he-IL\")}`}\r\n                        </p>\r\n                      </div>\r\n                      <Button\r\n                        onClick={() => handleLoadTraining(training.name)}\r\n                        disabled={isLoading === training.name}\r\n                        className=\"h-12 px-6 rounded-lg hover:scale-[1.02] active:scale-[0.98] transition-transform\"\r\n                      >\r\n                        {isLoading === training.name ? (\r\n                          <Loader2 className=\"h-5 w-5 animate-spin\" />\r\n                        ) : (\r\n                          <>\r\n                            <Play className=\"ml-2 h-5 w-5\" />\r\n                            המשך\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {trainings.length === 0 && (\r\n          <Card className=\"p-12 text-center\">\r\n            <p className=\"text-muted-foreground\">\r\n              עדיין אין אימונים. צור אימון חדש כדי להתחיל!\r\n            </p>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDEEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OFCA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEI,EAAc,SACd,CAAC,EAAqB,EAAkB,CAAG,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,GAC9D,CAAC,EAAgB,EAAiB,CAAG,EAAoB,GACzD,EAAS,AAAC,IACZ,GAAM,CACJ,eAAa,CACb,UAAQ,CACR,KAAM,CAAQ,aACd,CAAW,cACX,CAAY,OACZ,GAAQ,CAAI,CACb,CAAG,EACE,EAAa,EAAA,MAAY,CAAC,MAC1B,EAAa,EAAA,MAAY,CAAC,MAC1B,CAAC,GAAO,CAAK,CAAE,EAAQ,CAAG,CAAA,EAAA,EAAA,oBAAoB,AAApB,EAAqB,CACnD,KAAM,EACN,YAAa,EACb,SAAU,CACZ,GACA,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EACxB,EACA,CACE,CAHgB,KAGT,aACP,EACA,aACA,UAAW,CAAA,EAAA,EAAA,KAAA,AAAK,IAChB,QAAS,CAAA,EAAA,EAAA,KAAA,AAAK,IACd,cAAe,CAAA,EAAA,EAAA,KAAA,AAAK,SACpB,EACA,aAAc,EACd,aAAc,EAAA,WAAiB,CAAC,IAAM,EAAQ,AAAC,GAAa,CAAC,GAAW,CAAC,EAAQ,QACjF,WACA,CACF,EAEJ,EACA,EAAO,WAAW,CAAG,EACrB,IAAI,EAAe,gBACf,EAAgB,EAAA,UAAgB,CAClC,CAAC,EAAO,KACN,GAAM,CAAE,eAAa,CAAE,GAAG,EAAc,CAAG,EACrC,EAAU,EAAiB,EAAc,GACzC,EAAqB,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAc,EAAQ,UAAU,EAC3E,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EACxB,EAAA,EADkB,OACT,CAAC,MAAM,CAChB,CACE,KAAM,SACN,gBAAiB,SACjB,gBAAiB,EAAQ,IAAI,CAC7B,gBAAiB,EAAQ,SAAS,CAClC,aAAc,EAAS,EAAQ,IAAI,EACnC,GAAG,CAAY,CACf,IAAK,EACL,QAAS,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,OAAO,CAAE,EAAQ,YAAY,CACnE,EAEJ,GAEF,EAAc,WAAW,CAAG,EAC5B,IAAI,EAAc,eACd,CAAC,EAAgB,EAAiB,CAAG,EAAoB,EAAa,CACxE,WAAY,KAAK,CACnB,GACI,EAAe,AAAC,IAClB,GAAM,eAAE,CAAa,YAAE,CAAU,CAAE,UAAQ,WAAE,CAAS,CAAE,CAAG,EACrD,EAAU,EAAiB,EAAa,GAC9C,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EAAC,EAAgB,CAAE,CAAzB,KAAgC,aAAe,EAAY,SAAU,EAAA,QAAc,CAAC,GAAG,CAAC,EAAU,AAAC,GAA0B,CAAA,EAAA,EAAhB,AAAgB,GAAA,AAAG,EAAC,EAAA,MAAP,EAAe,CAAE,CAAE,QAAS,GAAc,EAAQ,IAAI,CAAE,SAA0B,CAAA,AAAhB,EAAgB,EAAA,GAAG,AAAH,EAAI,EAAA,EAAP,IAAsB,CAAE,CAAE,SAAS,YAAM,EAAW,SAAU,CAAM,EAAG,GAAI,EAC1S,EACA,EAAa,WAAW,CAAG,EAC3B,IAAI,EAAe,gBACf,EAAgB,EAAA,UAAgB,CAClC,CAAC,EAAO,KACN,IAAM,EAAgB,EAAiB,EAAc,EAAM,aAAa,EAClE,YAAE,EAAa,EAAc,UAAU,CAAE,GAAG,EAAc,CAAG,EAC7D,EAAU,EAAiB,EAAc,EAAM,aAAa,EAClE,OAAO,EAAQ,KAAK,CAAmB,CAAA,CAAhB,CAAgB,EAAA,GAAA,AAAG,EAAC,EAAA,GAAP,KAAe,CAAE,CAAE,QAAS,GAAc,EAAQ,IAAI,CAAE,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAmB,CAAE,CAA5B,EAA+B,CAAY,CAAE,IAAK,CAAa,EAAG,GAAK,IAC5L,GAEF,EAAc,WAAW,CAAG,EAC5B,IAAI,EAAoB,EAAA,UAAgB,CACtC,CAAC,EAAO,KACN,GAAM,eAAE,CAAa,CAAE,GAAG,EAAc,CAAG,EACrC,EAAU,EAAiB,EAAc,GAC/C,MAGkB,CAFhB,AAEgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,YAAY,CAAE,CAAE,GAAI,EAAA,IAAI,CAAE,gBAAgB,EAAM,OAAQ,CAAC,EAAQ,UAAU,CAAC,CAAE,SAA0B,AAFxC,CAEwB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAC7H,EAAA,EADuH,OAC9G,CAAC,GAAG,CACb,CACE,aAAc,EAAS,EAAQ,IAAI,EACnC,GAAG,CAAY,CACf,IAAK,EACL,MAAO,CAAE,cAAe,OAAQ,GAAG,EAAa,KAAK,AAAC,CACxD,EACA,EAEN,GAEE,EAAe,gBACf,EAAgB,EAAA,UAAgB,CAClC,CAAC,EAAO,KACN,IAAM,EAAgB,EAAiB,EAAc,EAAM,aAAa,EAClE,YAAE,EAAa,EAAc,UAAU,CAAE,GAAG,EAAc,CAAG,EAC7D,EAAU,EAAiB,EAAc,EAAM,aAAa,EAClE,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,MAAe,CAAE,CAAE,QAAS,GAAc,EAAQ,IAAI,CAAE,SAAU,EAAQ,KAAK,CAAmB,CAAA,CAAhB,CAAgB,EAAA,GAAA,AAAG,EAAC,EAAoB,CAAE,EAA7B,CAAgC,CAAY,CAAE,IAAK,CAAa,GAAqB,CAAA,CAAhB,CAAgB,EAAA,GAAA,AAAG,EAAC,EAAuB,CAAE,EAAhC,CAAmC,CAAY,CAAE,IAAK,CAAa,EAAG,EAC7Q,GAEF,EAAc,WAAW,CAAG,EAC5B,IAAI,EAAqB,EAAA,UAAgB,CACvC,CAAC,EAAO,KACN,IAAM,EAAU,EAAiB,EAAc,EAAM,aAAa,EAC5D,EAAa,EAAA,MAAY,CAAC,MAC1B,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAc,EAAQ,UAAU,CAAE,GAKvE,OAAO,AAJP,EAAA,SAAe,CAAC,CAII,IAHlB,IAAM,EAAU,EAAW,OAAO,CAClC,GAAI,EAAS,MAAO,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EACjC,EAAG,EAAE,EACkB,CAAA,EAAA,EAAA,GAAA,AAAG,EACxB,EACA,CACE,GAAG,CAAK,CACR,IAAK,EACL,UAAW,EAAQ,IAAI,CACvB,6BAA6B,EAC7B,iBAAkB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,gBAAgB,CAAE,AAAC,IAC9D,EAAM,cAAc,GACpB,EAAQ,UAAU,CAAC,OAAO,EAAE,OAC9B,GACA,qBAAsB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,oBAAoB,CAAE,AAAC,IACtE,IAAM,EAAgB,EAAM,MAAM,CAAC,aAAa,CAC1C,EAAyC,IAAzB,EAAc,MAAM,EAAU,CAA0B,MAAZ,OAAO,AAErE,EAD0C,IAAzB,EAAc,MAAM,EAAU,CAAA,GACjC,EAAM,cAAc,EACxC,GACA,eAAgB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAClC,EAAM,cAAc,CACpB,AAAC,GAAU,EAAM,cAAc,GAEnC,EAEJ,GAEE,EAAwB,EAAA,UAAgB,CAC1C,CAAC,EAAO,KACN,IAAM,EAAU,EAAiB,EAAc,EAAM,aAAa,EAC5D,EAA0B,EAAA,MAAY,EAAC,GACvC,EAA2B,EAAA,MAAY,EAAC,GAC9C,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAG,AAAH,EACrB,EACA,CACE,CAHgB,EAGb,CAAK,CACR,IAAK,EACL,UAAW,GACX,6BAA6B,EAC7B,iBAAkB,AAAC,IACjB,EAAM,gBAAgB,GAAG,GACpB,EAAM,gBAAgB,EAAE,CACvB,AAAC,EAAwB,OAAO,EAAE,EAAQ,UAAU,CAAC,OAAO,EAAE,QAClE,EAAM,cAAc,IAEtB,EAAwB,OAAO,CAAG,GAClC,EAAyB,OAAO,EAAG,CACrC,EACA,kBAAoB,AAAD,IACjB,EAAM,iBAAiB,GAAG,GACrB,EAAM,gBAAgB,EAAE,CAC3B,EAAwB,OAAO,EAAG,EACM,eAAe,CAAnD,EAAM,MAAM,CAAC,aAAa,CAAC,IAAI,GACjC,EAAyB,OAAO,CAAG,EAAA,GAGvC,IAAM,EAAS,EAAM,MAAM,AACH,AACpB,GAD4B,UAAU,CAAC,OAAO,EAAE,SAAS,IACxC,EAAM,cAAc,GACD,YAApC,EAAM,MAAM,CAAC,aAAa,CAAC,IAAI,EAAkB,EAAyB,OAAO,EAAE,AACrF,EAAM,cAAc,EAExB,CACF,EAEJ,GAEE,EAAoB,EAAA,UAAgB,CACtC,CAAC,EAAO,KACN,GAAM,CAAE,eAAa,WAAE,CAAS,iBAAE,CAAe,CAAE,kBAAgB,CAAE,GAAG,EAAc,CAAG,EACnF,EAAU,EAAiB,EAAc,GACzC,EAAa,EAAA,MAAY,CAAC,MAC1B,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAc,GAEnD,MADA,CACO,AADP,EAAA,EAAA,SACoB,KADpB,AAAc,IACS,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,EAAA,QAAQ,CAAE,CAAE,SAAU,CAChC,CAAA,EAAA,EAAA,GAAA,AAAG,EACjB,EAAA,UAAU,CACV,CACE,SAAS,EACT,MAAM,EACN,QAAS,EACT,iBAAkB,EAClB,mBAAoB,EACpB,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAC3B,EAAA,EADqB,cACL,CAChB,CACE,KAAM,SACN,GAAI,EAAQ,SAAS,CACrB,mBAAoB,EAAQ,aAAa,CACzC,kBAAmB,EAAQ,OAAO,CAClC,aAAc,EAAS,EAAQ,IAAI,EACnC,GAAG,CAAY,CACf,IAAK,EACL,UAAW,IAAM,EAAQ,YAAY,EAAC,EACxC,EAEJ,GAEc,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,EAAA,QAAQ,CAAE,CAAE,SAAU,CACzB,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAc,CAAE,QAAS,EAAQ,OAAO,AAAC,GAC7C,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAoB,YAAE,EAAY,cAAe,EAAQ,aAAa,AAAC,GAC5F,AAAC,GACH,AAAC,EACJ,GAEE,EAAa,cACb,EAAc,EAAA,UAAgB,CAChC,CAAC,EAAO,KACN,GAAM,eAAE,CAAa,CAAE,GAAG,EAAY,CAAG,EACnC,EAAU,EAAiB,EAAY,GAC7C,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,OAAgB,CAAC,EAAE,CAAE,CAAE,GAAI,EAAQ,OAAO,CAAE,GAAG,CAAU,CAAE,IAAK,CAAa,EACnG,GAEF,EAAY,WAAW,CAAG,EAC1B,IAAI,EAAmB,mBAQvB,CAPwB,EAAA,UAAgB,CACtC,CAAC,EAAO,KACN,GAAM,eAAE,CAAa,CAAE,GAAG,EAAkB,CAAG,EACzC,EAAU,EAAiB,EAAkB,GACnD,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,OAAgB,CAAC,CAAC,CAAE,CAAE,GAAI,EAAQ,aAAa,CAAE,GAAG,CAAgB,CAAE,IAAK,CAAa,EAC9G,GAEgB,WAAW,CAAG,EAChC,IAAI,EAAa,cACb,EAAc,EAAA,UAAgB,CAChC,CAAC,EAAO,KACN,GAAM,eAAE,CAAa,CAAE,GAAG,EAAY,CAAG,EACnC,EAAU,EAAiB,EAAY,GAC7C,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EACxB,EAAA,EADkB,OACT,CAAC,MAAM,CAChB,CACE,KAAM,SACN,GAAG,CAAU,CACb,IAAK,EACL,QAAS,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,OAAO,CAAE,IAAM,EAAQ,YAAY,CAAC,IAC1E,EAEJ,GAGF,SAAS,EAAS,CAAI,EACpB,OAAO,EAAO,OAAS,QACzB,CAHA,EAAY,WAAW,CAAG,EAI1B,IAAI,EAAqB,qBACrB,CAAC,EAAiB,EAAkB,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAoB,CAC3E,YAAa,EACb,UAAW,EACX,SAAU,QACZ,GACI,EAAe,CAAC,SAAE,CAAO,CAAE,IAC7B,IAAM,EAAsB,EAAkB,GACxC,EAAU,CAAC,EAAE,EAAE,EAAoB,WAAW,CAAC,gBAAgB,EAAE,EAAoB,SAAS,CAAC;;0BAE7E,EAAE,EAAoB,SAAS,CAAC;;0EAEgB,EAAE,EAAoB,QAAQ,CAAA,CAAE,CAOxG,OANA,EAAA,SAAe,CAAC,KACV,GAEE,CADa,AACZ,KAFM,IACe,cAAc,CAAC,IAC1B,QAAQ,KAAK,CAAC,EAAxB,CAET,EAAG,CAAC,EAAS,EAAQ,EACd,IACT,EAEI,EAAqB,CAAC,YAAE,CAAU,eAAE,CAAa,CAAE,IACrD,IAAM,EAA4B,EAFL,gBAEuB,YAC9C,EAAU,CAAC,0EAA0E,EAAE,EAA0B,WAAW,CAAC,EAAE,CAAC,CAQtI,OAPA,EAAA,SAAe,CAAC,KACd,IAAM,EAAgB,EAAW,OAAO,EAAE,aAAa,oBACnD,GAAiB,GAEf,CADmB,AAClB,SAD2B,EADE,YACY,CAAC,IAC1B,QAAQ,IAAI,CAAC,EAA7B,CAET,EAAG,CAAC,EAAS,EAAY,EAAc,EAChC,IACT,mBChTA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAO,CACd,GAAG,EAC+C,EAClD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,AD4SC,EC5SD,CAAqB,YAAU,SAAU,GAAG,CAAK,EAC3D,CAEA,SAAS,EAAc,CACrB,GAAG,EACkD,EACrD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,ADuSI,ECvSJ,CAAwB,YAAU,iBAAkB,GAAG,CAAK,EACtE,CAEA,SAAS,EAAa,CACpB,GAAG,EACiD,EACpD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,ADkSG,EClSH,CAAuB,YAAU,gBAAiB,GAAG,CAAK,EACpE,CAQA,SAAS,GAAc,WACrB,CAAS,CACT,GAAG,EACkD,EACrD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,ADqRS,ECrRT,CACC,YAAU,iBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,yJACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,GAAc,WACrB,CAAS,UACT,CAAQ,iBACR,GAAkB,CAAI,CACtB,GAAG,EAGJ,EACC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,CAAa,YAAU,0BACtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAAC,ADgQO,EChQP,CACC,YAAU,iBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,8WACA,GAED,GAAG,CAAK,WAER,EACA,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,ADyPC,ECzPD,CACC,YAAU,eACV,UAAU,8WAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CAAA,GACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,kBAMtC,CAEA,SAAS,GAAa,WAAE,CAAS,CAAE,GAAG,EAAoC,EACxE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,gBACV,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EAAG,+CAAgD,GAC7D,GAAG,CAAK,EAGf,CAeA,SAAS,GAAY,WACnB,CAAS,CACT,GAAG,EACgD,EACnD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,AD8MO,EC9MP,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,qCAAsC,GACnD,GAAG,CAAK,EAGf,CCzGA,IAAA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAAA,GAAA,EAAA,CAAA,CAAA,OAAA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAmBA,IAAM,GACJ,QAAQ,GAAG,CAAC,uBAAuB,EACnC,0CAEa,SAAS,KACtB,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAE,EACnD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACvC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACpD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACrE,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,GAAA,QAAA,AAAQ,IACpB,EAAS,CAAA,EAAA,GAAA,SAAA,AAAS,IAExB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAwB,UAC5B,GAAI,CACF,QAAQ,GAAG,CAAC,0CAEZ,IAAM,EAAU,GAAA,IAAI,EAAE,aAAa,IACnC,GAAI,CAAC,EAAS,YACZ,QAAQ,KAAK,CAAC,qDAIhB,IAAM,EAAW,MAAM,MACrB,CAAC,mCAAmC,EAAE,mBAAmB,GAAA,CAAU,CACnE,CACE,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,CACF,GAGF,QAAQ,GAAG,CAAC,wBAAyB,EAAS,MAAM,EACpD,IAAM,EAAO,MAAM,EAAS,IAAI,GAGhC,GAFA,QAAQ,GAAG,CAAC,sBAAuB,GAE/B,CAAC,EAAS,EAAE,CAAE,YAChB,QAAQ,KAAK,CAAC,4BAA6B,EAAK,KAAK,EAIvD,GAAI,EAAK,SAAS,EAAI,EAAK,SAAS,CAAC,MAAM,CAAG,EAAG,CAC/C,IAAM,EAAiC,EAAK,SAAS,CAAC,GAAG,CACvD,AAAC,IAAwB,AAAC,CACxB,KAAM,EAAE,IAAI,CACZ,YAAa,EAAE,CACf,UAAW,EAAE,aAAa,CACtB,IAAI,KAAuB,IAAlB,EAAE,aAAa,EAAS,WAAW,GAC5C,IAAI,OAAO,WAAW,GAC1B,UAAW,EAAE,UAAU,CACvB,aAAc,EAAE,aAAa,CAC/B,CAAC,EAEH,EAAa,EACf,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,EAC5C,CACF,EAEM,EAAuB,UAC3B,GAAI,CAAC,EAAa,IAAI,GAAI,YACxB,EAAM,CACJ,MAAO,QACP,YAAa,qBACb,QAAS,aACX,GAIF,GAAmC,IAA/B,EAAoB,MAAM,CAAQ,YACpC,EAAM,CACJ,MAAO,QACP,YAAa,2BACb,QAAS,aACX,GAIF,GAAc,GAEd,GAAI,CACF,IAAM,EAAU,GAAA,IAAI,EAAE,aAAa,IACnC,GAAI,CAAC,EACH,MAAM,AAAI,CADE,KACI,8CAGlB,IAAM,EAAW,MAAM,MAAM,6BAA8B,CACzD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,SAAU,EACV,cAAe,EACf,aAAc,CAChB,EACF,GAEM,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,EAAK,KAAK,EAAI,6BAEhC,IAAM,EAAwB,CAC5B,KAAM,EACN,YAAa,EACb,UAAW,IAAI,OAAO,WAAW,GACjC,eAAgB,EAAK,gBAAgB,CACrC,WAAY,EAAK,uBAAuB,CACxC,UAAW,EAAK,UAAU,CAC1B,aAAc,EAAK,aAAa,AAClC,EAEA,EAAa,CAAC,KAAgB,EAAU,EACxC,GAAgB,GAChB,EAAgB,IAChB,EAAuB,EAAE,EAEzB,EAAM,CACJ,MAAO,uBACP,YAAa,CAAA,EAAG,EAAK,gBAAgB,CAAC,iBAAiB,EAAE,EAAK,uBAAuB,CAAC,cAAc,CAAC,CACrG,UAAW,oCACb,GAEA,WAAW,KACL,QAAQ,gDACV,CAD2D,CACxC,GAEnB,GAEJ,EAAG,IACL,CAAE,MAAO,EAAO,CACd,EAAM,CACJ,MAAO,qBACP,YACE,aAAiB,MAAQ,EAAM,OAAO,CAAG,2BAC3C,QAAS,aACX,EACF,QAAU,CACR,GAAc,EAChB,CACF,EAEM,EAAqB,MAAO,IAChC,EAAa,GAEb,GAAI,CACF,IAAM,EAAU,GAAA,IAAI,EAAE,aAAa,IACnC,GAAI,CAAC,EACH,MAAU,AAAJ,CADM,KACI,8CAGlB,IAAM,EAAW,MAAM,MAAM,CAAA,EAAG,GAAY,cAAc,CAAC,CAAE,CAC3D,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,SAAU,EACV,cAAe,CACjB,EACF,GAEM,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,EAAK,KAAK,EAAI,2BAEhC,aAAa,OAAO,CAAC,sBAAuB,GAE5C,EAAM,CACJ,MAAO,uBACP,YAAa,qBACb,UAAW,oCACb,GAEA,WAAW,KACT,EAAO,IAAI,CAAC,YACd,EAAG,IACL,CAAE,MAAO,EAAO,CACd,EAAM,CACJ,MAAO,qBACP,YACE,aAAiB,MAAQ,EAAM,OAAO,CAAG,0BAC3C,QAAS,aACX,GACA,EAAa,KACf,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,iBAG/D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,wCAKvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAO,IAAI,CAAC,KAC3B,QAAQ,UACR,UAAU,4FACX,sBAKD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,CAAO,KAAM,EAAc,aAAc,YACxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,OAAO,CAAA,CAAA,WACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,2KAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,uBAIrC,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,CAAc,UAAU,+BAA+B,IAAI,gBAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAY,UAAU,gCAAuB,gBAIhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,QAAQ,OAAO,UAAU,qBAAY,cAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,GAAG,OACH,YAAY,8BACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,UAAU,4BACV,IAAI,WAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,qBAAY,6BAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG,CAAC,GAAG,CAAC,AAAC,GACpC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,UAAU,8GAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAoB,QAAQ,CAAC,GACtC,SAAW,AAAD,IACJ,EAAE,MAAM,CAAC,OAAO,CAClB,CADoB,CACG,IAClB,EACH,EACD,EAED,EACE,EAAoB,MAAM,CAAC,AAAC,GAAM,IAAM,GAG9C,EACA,UAAU,YAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oBAAU,SAAO,OApB5B,SA0Bb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,SAAU,EACV,UAAU,wGAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,mBAInD,uBAQT,EAAU,MAAM,CAAG,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,mBAGtD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAU,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAEH,UAAU,6DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,eACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDACX,EAAS,IAAI,GAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CACV,EAAS,SAAS,EAAI,CAAA,EAAG,EAAS,SAAS,CAAC,MAAM,CAAC,CACnD,EAAS,YAAY,EACpB,CAAC,GAAG,EAAE,IAAI,KACgB,IAAxB,EAAS,YAAY,EACrB,kBAAkB,CAAC,SAAA,CAAU,OAGrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAmB,EAAS,IAAI,EAC/C,SAAU,IAAc,EAAS,IAAI,CACrC,UAAU,4FAET,IAAc,EAAS,IAAI,CAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,OAAO,CAAA,CAAC,UAAU,yBAEnB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,kBA1BtC,EAAS,IAAI,QAuCN,IAArB,EAAU,MAAM,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,4BACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,uDAQjD","ignoreList":[0]}